cmake_path(GET CMAKE_CURRENT_SOURCE_DIR FILENAME CURRENT_FOLDER)
set (LIB ${CURRENT_FOLDER})
generate_protobuf_sources(${CMAKE_CURRENT_SOURCE_DIR}/..)
aux_source_directory (${CMAKE_CURRENT_SOURCE_DIR}/src SRC)
list(APPEND SRC ${PROTOBUF_SRC})
add_library(${LIB} STATIC ${SRC})
target_link_libraries(${LIB} pthread protobuf zmq)
target_include_directories(${LIB} PUBLIC ${CMAKE_CURRENT_SOURCE_DIR}/src)
target_include_directories(${LIB} PUBLIC ${CMAKE_CURRENT_BINARY_DIR})